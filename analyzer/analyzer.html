<!DOCTYPE html>
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta name="description" content="" />
	<meta name="author" content="Roman Movchan" />
	<title>Analyzer</title>
	<script>
		document.write('<base href="' + document.location + '" />');
	</script>
	<link rel="stylesheet" href="analyzer.css" />
	<script src="../fabsite-engine.js"></script>
<script>
var xt="",h3OK=1;
function checkErrorXML(x)
{
xt="";
h3OK=1;
checkXML(x);
}

function checkXML(n)
{
var l,i,nam;
nam=n.nodeName;
if (nam=="h3")
	{
	if (h3OK===0)
		{
		return;
		}
	h3OK=0;
	}
if (nam=="#text")
	{
	xt=xt + n.nodeValue + "\n";
	}
l=n.childNodes.length;
for (i=0;i<l;i++)
	{
	checkXML(n.childNodes[i]);
	}
}

function validateXML(txt)
{
	var xmlDoc;
// code for IE
if (window.ActiveXObject)
  {
  xmlDoc = new ActiveXObject("Microsoft.XMLDOM");
  xmlDoc.async=false;
  xmlDoc.loadXML(document.all(txt).value);
  if(xmlDoc.parseError.errorCode!==0)
    {
    txt="Error Code: " + xmlDoc.parseError.errorCode + "\n";
    txt=txt+"Error Reason: " + xmlDoc.parseError.reason;
    txt=txt+"Error Line: " + xmlDoc.parseError.line;
    alert(txt);
    }
  else
    {
    alert("No errors found");
    }
  }
// code for Mozilla, Firefox, Opera, etc.
else if (document.implementation.createDocument)
  {
  try
  {
  var text=document.getElementById(txt).value;
  var parser=new DOMParser();
  xmlDoc=parser.parseFromString(text,"application/xml");
  }
  catch(err)
  {
  alert(err.message);
  }

if (xmlDoc.getElementsByTagName("parsererror").length>0)
   {
   checkErrorXML(xmlDoc.getElementsByTagName("parsererror")[0]);
   alert(xt);
   }
 else
   {
   alert("No errors found");
   }
 }
else
 {
 alert('Your browser cannot handle XML validation');
 }
}
</script>

</head>

<body onload="runFabsiteLibrary('analyzer.xml')">
	<h1>Fabsite Framework Library Analyzer</h1>
	<hr/>
	<div id="analyzer" class="fabsite-analyzer" data-arg="">Loading...</div>
</body>

</html>
